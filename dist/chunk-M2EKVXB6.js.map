{"version":3,"sources":["../src/theme/theme-context.tsx","../src/components/theme-switcher.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\n\nexport type ThemeName = \"aurora\" | \"ember\" | \"ocean\" | \"midnight\" | \"cosmic\";\nexport type ThemeMode = \"light\" | \"dark\" | \"system\";\n\nexport const THEME_NAMES: ThemeName[] = [\n  \"aurora\",\n  \"ember\",\n  \"ocean\",\n  \"midnight\",\n  \"cosmic\",\n];\n\ntype ThemeContextValue = {\n  theme: ThemeName;\n  mode: ThemeMode;\n  setTheme: (theme: ThemeName) => void;\n  setMode: (mode: ThemeMode) => void;\n};\n\nconst ThemeContext = React.createContext<ThemeContextValue | null>(null);\n\ntype ThemeProviderProps = {\n  children: React.ReactNode;\n  defaultTheme?: ThemeName;\n  defaultMode?: ThemeMode;\n  storageKeyTheme?: string;\n  storageKeyMode?: string;\n};\n\nconst DEFAULT_THEME_KEY = \"nextcraft-theme\";\nconst DEFAULT_MODE_KEY = \"nextcraft-mode\";\n\nexport function ThemeProvider({\n  children,\n  defaultTheme = \"ocean\",\n  defaultMode = \"system\",\n  storageKeyTheme = DEFAULT_THEME_KEY,\n  storageKeyMode = DEFAULT_MODE_KEY,\n}: ThemeProviderProps) {\n  const [theme, setTheme] = React.useState<ThemeName>(defaultTheme);\n  const [mode, setMode] = React.useState<ThemeMode>(defaultMode);\n\n  React.useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    try {\n      const storedTheme = window.localStorage.getItem(storageKeyTheme) as ThemeName | null;\n      const storedMode = window.localStorage.getItem(storageKeyMode) as ThemeMode | null;\n      if (storedTheme) setTheme(storedTheme);\n      if (storedMode) setMode(storedMode);\n    } catch {\n      // Ignore storage errors.\n    }\n  }, [storageKeyTheme, storageKeyMode]);\n\n  React.useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    try {\n      window.localStorage.setItem(storageKeyTheme, theme);\n      window.localStorage.setItem(storageKeyMode, mode);\n    } catch {\n      // Ignore storage errors.\n    }\n  }, [theme, mode, storageKeyTheme, storageKeyMode]);\n\n  React.useEffect(() => {\n    if (typeof document === \"undefined\") return;\n    const root = document.documentElement;\n    root.dataset.ncTheme = theme;\n\n    if (mode !== \"system\") {\n      root.dataset.ncMode = mode;\n      return;\n    }\n\n    const mediaQuery = window.matchMedia(\"(prefers-color-scheme: dark)\");\n    const applySystem = () => {\n      root.dataset.ncMode = mediaQuery.matches ? \"dark\" : \"light\";\n    };\n\n    applySystem();\n\n    if (typeof mediaQuery.addEventListener === \"function\") {\n      mediaQuery.addEventListener(\"change\", applySystem);\n      return () => mediaQuery.removeEventListener(\"change\", applySystem);\n    }\n\n    mediaQuery.addListener(applySystem);\n    return () => mediaQuery.removeListener(applySystem);\n  }, [theme, mode]);\n\n  const value = React.useMemo(\n    () => ({ theme, mode, setTheme, setMode }),\n    [theme, mode]\n  );\n\n  return <ThemeContext.Provider value={value}>{children}</ThemeContext.Provider>;\n}\n\nexport function useTheme() {\n  const context = React.useContext(ThemeContext);\n  if (!context) {\n    throw new Error(\"useTheme must be used within ThemeProvider\");\n  }\n  return context;\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/utils/cn\";\nimport { THEME_NAMES, type ThemeMode, type ThemeName, useTheme } from \"@/theme/theme-context\";\n\nconst MODE_OPTIONS: ThemeMode[] = [\"system\", \"light\", \"dark\"];\n\nexport type ThemeSwitcherProps = React.HTMLAttributes<HTMLDivElement> & {\n  showLabels?: boolean;\n};\n\nexport function ThemeSwitcher({ className, showLabels = true, ...props }: ThemeSwitcherProps) {\n  const { theme, mode, setTheme, setMode } = useTheme();\n\n  return (\n    <div\n      className={cn(\n        \"flex flex-wrap items-center gap-3 rounded-2xl border border-[rgb(var(--nc-border)/0.3)] bg-[rgb(var(--nc-surface)/0.08)] px-4 py-3 text-sm text-[rgb(var(--nc-fg))] shadow-[inset_0_1px_0_rgba(255,255,255,0.06)]\",\n        className\n      )}\n      {...props}\n    >\n      <label className=\"flex items-center gap-2\">\n        {showLabels && <span className=\"text-[rgb(var(--nc-fg-muted))]\">Theme</span>}\n        <select\n          className=\"rounded-lg border border-[rgb(var(--nc-border)/0.3)] bg-[rgb(var(--nc-surface)/0.12)] px-3 py-1 text-[rgb(var(--nc-fg))] outline-none focus:ring-2 focus:ring-[rgb(var(--nc-accent-1)/0.5)]\"\n          value={theme}\n          onChange={(event) => setTheme(event.target.value as ThemeName)}\n        >\n          {THEME_NAMES.map((name) => (\n            <option key={name} value={name} className=\"text-slate-900\">\n              {name}\n            </option>\n          ))}\n        </select>\n      </label>\n      <label className=\"flex items-center gap-2\">\n        {showLabels && <span className=\"text-[rgb(var(--nc-fg-muted))]\">Mode</span>}\n        <select\n          className=\"rounded-lg border border-[rgb(var(--nc-border)/0.3)] bg-[rgb(var(--nc-surface)/0.12)] px-3 py-1 text-[rgb(var(--nc-fg))] outline-none focus:ring-2 focus:ring-[rgb(var(--nc-accent-1)/0.5)]\"\n          value={mode}\n          onChange={(event) => setMode(event.target.value as ThemeMode)}\n        >\n          {MODE_OPTIONS.map((value) => (\n            <option key={value} value={value} className=\"text-slate-900\">\n              {value}\n            </option>\n          ))}\n        </select>\n      </label>\n    </div>\n  );\n}\n"],"mappings":"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","names":["jsx"]}