{"version":3,"sources":["../../src/components/craft-pagination.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/utils/cn\";\nimport type { ThemeName } from \"@/theme/theme-context\";\n\nexport type CraftPaginationProps = {\n  pageIndex: number;\n  pageCount: number;\n  onPageChange: (page: number) => void;\n  canPrevious?: boolean;\n  canNext?: boolean;\n  pageSize?: number;\n  pageSizeOptions?: number[];\n  onPageSizeChange?: (size: number) => void;\n  tone?: ThemeName;\n  className?: string;\n};\n\nfunction getPageNumbers(pageIndex: number, pageCount: number, maxButtons = 5) {\n  if (pageCount <= maxButtons) {\n    return Array.from({ length: pageCount }, (_, i) => i);\n  }\n\n  const pages: Array<number | \"ellipsis\"> = [];\n  const start = Math.max(0, pageIndex - 1);\n  const end = Math.min(pageCount - 1, pageIndex + 1);\n\n  pages.push(0);\n\n  if (start > 1) pages.push(\"ellipsis\");\n\n  for (let i = start; i <= end; i += 1) {\n    if (i !== 0 && i !== pageCount - 1) pages.push(i);\n  }\n\n  if (end < pageCount - 2) pages.push(\"ellipsis\");\n\n  pages.push(pageCount - 1);\n\n  return pages;\n}\n\nexport function CraftPagination({\n  pageIndex,\n  pageCount,\n  onPageChange,\n  canPrevious = pageIndex > 0,\n  canNext = pageIndex < pageCount - 1,\n  pageSize,\n  pageSizeOptions = [10, 20, 50],\n  onPageSizeChange,\n  tone,\n  className,\n}: CraftPaginationProps) {\n  const pages = getPageNumbers(pageIndex, pageCount);\n\n  return (\n    <div\n      className={cn(\n        \"flex flex-wrap items-center justify-between gap-4\",\n        className\n      )}\n      data-nc-theme={tone}\n    >\n      <div className=\"flex items-center gap-2\">\n        <button\n          type=\"button\"\n          className={cn(\n            \"rounded-xl border border-[rgb(var(--nc-border)/0.3)] bg-[rgb(var(--nc-surface)/0.12)] px-3 py-2 text-xs text-[rgb(var(--nc-fg))] transition\",\n            \"hover:bg-[rgb(var(--nc-surface)/0.2)]\",\n            !canPrevious && \"opacity-50 cursor-not-allowed\"\n          )}\n          onClick={() => onPageChange(Math.max(pageIndex - 1, 0))}\n          disabled={!canPrevious}\n        >\n          Prev\n        </button>\n        {pages.map((page, index) =>\n          page === \"ellipsis\" ? (\n            <span key={`ellipsis-${index}`} className=\"px-2 text-[rgb(var(--nc-fg-muted))]\">\n              ...\n            </span>\n          ) : (\n            <button\n              key={page}\n              type=\"button\"\n              className={cn(\n                \"rounded-xl border px-3 py-2 text-xs transition\",\n                page === pageIndex\n                  ? \"border-[rgb(var(--nc-accent-1)/0.6)] bg-[rgb(var(--nc-accent-1)/0.2)] text-[rgb(var(--nc-fg))]\"\n                  : \"border-[rgb(var(--nc-border)/0.3)] bg-[rgb(var(--nc-surface)/0.12)] text-[rgb(var(--nc-fg-muted))] hover:text-[rgb(var(--nc-fg))] hover:bg-[rgb(var(--nc-surface)/0.2)]\"\n              )}\n              onClick={() => onPageChange(page)}\n            >\n              {page + 1}\n            </button>\n          )\n        )}\n        <button\n          type=\"button\"\n          className={cn(\n            \"rounded-xl border border-[rgb(var(--nc-border)/0.3)] bg-[rgb(var(--nc-surface)/0.12)] px-3 py-2 text-xs text-[rgb(var(--nc-fg))] transition\",\n            \"hover:bg-[rgb(var(--nc-surface)/0.2)]\",\n            !canNext && \"opacity-50 cursor-not-allowed\"\n          )}\n          onClick={() => onPageChange(Math.min(pageIndex + 1, pageCount - 1))}\n          disabled={!canNext}\n        >\n          Next\n        </button>\n      </div>\n\n      {onPageSizeChange && (\n        <div className=\"flex items-center gap-2 text-xs text-[rgb(var(--nc-fg-muted))]\">\n          <span>Rows</span>\n          <select\n            className=\"rounded-xl border border-[rgb(var(--nc-border)/0.3)] bg-[rgb(var(--nc-surface)/0.12)] px-2 py-1 text-xs text-[rgb(var(--nc-fg))]\"\n            value={pageSize}\n            onChange={(event) => onPageSizeChange(Number(event.target.value))}\n          >\n            {pageSizeOptions.map((size) => (\n              <option key={size} value={size}>\n                {size}\n              </option>\n            ))}\n          </select>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAkEM;AA9DN,gBAAmB;AAgBnB,SAAS,eAAe,WAAmB,WAAmB,aAAa,GAAG;AAC5E,MAAI,aAAa,YAAY;AAC3B,WAAO,MAAM,KAAK,EAAE,QAAQ,UAAU,GAAG,CAAC,GAAG,MAAM,CAAC;AAAA,EACtD;AAEA,QAAM,QAAoC,CAAC;AAC3C,QAAM,QAAQ,KAAK,IAAI,GAAG,YAAY,CAAC;AACvC,QAAM,MAAM,KAAK,IAAI,YAAY,GAAG,YAAY,CAAC;AAEjD,QAAM,KAAK,CAAC;AAEZ,MAAI,QAAQ,EAAG,OAAM,KAAK,UAAU;AAEpC,WAAS,IAAI,OAAO,KAAK,KAAK,KAAK,GAAG;AACpC,QAAI,MAAM,KAAK,MAAM,YAAY,EAAG,OAAM,KAAK,CAAC;AAAA,EAClD;AAEA,MAAI,MAAM,YAAY,EAAG,OAAM,KAAK,UAAU;AAE9C,QAAM,KAAK,YAAY,CAAC;AAExB,SAAO;AACT;AAEO,SAAS,gBAAgB;AAAA,EAC9B;AAAA,EACA;AAAA,EACA;AAAA,EACA,cAAc,YAAY;AAAA,EAC1B,UAAU,YAAY,YAAY;AAAA,EAClC;AAAA,EACA,kBAAkB,CAAC,IAAI,IAAI,EAAE;AAAA,EAC7B;AAAA,EACA;AAAA,EACA;AACF,GAAyB;AACvB,QAAM,QAAQ,eAAe,WAAW,SAAS;AAEjD,SACE;AAAA,IAAC;AAAA;AAAA,MACC,eAAW;AAAA,QACT;AAAA,QACA;AAAA,MACF;AAAA,MACA,iBAAe;AAAA,MAEf;AAAA,qDAAC,SAAI,WAAU,2BACb;AAAA;AAAA,YAAC;AAAA;AAAA,cACC,MAAK;AAAA,cACL,eAAW;AAAA,gBACT;AAAA,gBACA;AAAA,gBACA,CAAC,eAAe;AAAA,cAClB;AAAA,cACA,SAAS,MAAM,aAAa,KAAK,IAAI,YAAY,GAAG,CAAC,CAAC;AAAA,cACtD,UAAU,CAAC;AAAA,cACZ;AAAA;AAAA,UAED;AAAA,UACC,MAAM;AAAA,YAAI,CAAC,MAAM,UAChB,SAAS,aACP,4CAAC,UAA+B,WAAU,uCAAsC,mBAArE,YAAY,KAAK,EAE5B,IAEA;AAAA,cAAC;AAAA;AAAA,gBAEC,MAAK;AAAA,gBACL,eAAW;AAAA,kBACT;AAAA,kBACA,SAAS,YACL,mGACA;AAAA,gBACN;AAAA,gBACA,SAAS,MAAM,aAAa,IAAI;AAAA,gBAE/B,iBAAO;AAAA;AAAA,cAVH;AAAA,YAWP;AAAA,UAEJ;AAAA,UACA;AAAA,YAAC;AAAA;AAAA,cACC,MAAK;AAAA,cACL,eAAW;AAAA,gBACT;AAAA,gBACA;AAAA,gBACA,CAAC,WAAW;AAAA,cACd;AAAA,cACA,SAAS,MAAM,aAAa,KAAK,IAAI,YAAY,GAAG,YAAY,CAAC,CAAC;AAAA,cAClE,UAAU,CAAC;AAAA,cACZ;AAAA;AAAA,UAED;AAAA,WACF;AAAA,QAEC,oBACC,6CAAC,SAAI,WAAU,kEACb;AAAA,sDAAC,UAAK,kBAAI;AAAA,UACV;AAAA,YAAC;AAAA;AAAA,cACC,WAAU;AAAA,cACV,OAAO;AAAA,cACP,UAAU,CAAC,UAAU,iBAAiB,OAAO,MAAM,OAAO,KAAK,CAAC;AAAA,cAE/D,0BAAgB,IAAI,CAAC,SACpB,4CAAC,YAAkB,OAAO,MACvB,kBADU,IAEb,CACD;AAAA;AAAA,UACH;AAAA,WACF;AAAA;AAAA;AAAA,EAEJ;AAEJ;","names":[]}