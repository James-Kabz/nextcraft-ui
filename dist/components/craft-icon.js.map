{"version":3,"sources":["../../src/components/craft-icon.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { library, type IconName, type IconPrefix } from \"@fortawesome/fontawesome-svg-core\";\nimport { fas } from \"@fortawesome/free-solid-svg-icons\";\nimport { far } from \"@fortawesome/free-regular-svg-icons\";\nimport { fab } from \"@fortawesome/free-brands-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nimport { cn } from \"@/utils/cn\";\n\nexport type CraftIconRegistry = Record<string, React.ReactNode>;\n\nconst CraftIconContext = React.createContext<CraftIconRegistry | null>(null);\n\nexport type CraftIconProviderProps = {\n  icons: CraftIconRegistry;\n  children: React.ReactNode;\n};\n\nexport function CraftIconProvider({ icons, children }: CraftIconProviderProps) {\n  return <CraftIconContext.Provider value={icons}>{children}</CraftIconContext.Provider>;\n}\n\nexport type CraftIconProps = {\n  name: IconName | string;\n  prefix?: IconPrefix;\n  size?: \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\" | \"xxl\";\n  color?: string;\n  className?: string;\n  \"aria-label\"?: string;\n  icons?: CraftIconRegistry;\n};\n\nlibrary.add(fas, far, fab);\n\nexport function CraftIcon({\n  name,\n  prefix = \"fas\",\n  size = \"md\",\n  color,\n  className,\n  \"aria-label\": ariaLabel,\n  icons,\n}: CraftIconProps) {\n  const contextRegistry = React.useContext(CraftIconContext);\n  const registry = icons ?? contextRegistry;\n  const icon = registry?.[name];\n\n  if (!icon) {\n    const faSizeMap = {\n      xs: \"xs\",\n      sm: \"sm\",\n      md: \"lg\",\n      lg: \"xl\",\n      xl: \"2x\",\n      xxl: \"3x\",\n    } as const;\n\n    return (\n      <FontAwesomeIcon\n        icon={[prefix, name as IconName]}\n        size={faSizeMap[size]}\n        className={cn(color ? `text-${color}` : \"text-current\", \"inline-block\", className)}\n        aria-hidden={ariaLabel ? undefined : true}\n        aria-label={ariaLabel}\n        role={ariaLabel ? \"img\" : undefined}\n      />\n    );\n  }\n\n  type IconElementProps = {\n    className?: string;\n    \"aria-hidden\"?: boolean;\n    \"aria-label\"?: string;\n  };\n\n  if (React.isValidElement<IconElementProps>(icon)) {\n    return React.cloneElement(icon, {\n      className: cn(icon.props.className, className),\n      \"aria-hidden\": ariaLabel ? undefined : true,\n      \"aria-label\": ariaLabel,\n    });\n  }\n\n  return (\n    <span className={className} aria-label={ariaLabel}>\n      {icon}\n    </span>\n  );\n}\n"],"mappings":";AAqBS;AAnBT,YAAY,WAAW;AACvB,SAAS,eAA+C;AACxD,SAAS,WAAW;AACpB,SAAS,WAAW;AACpB,SAAS,WAAW;AACpB,SAAS,uBAAuB;AAEhC,SAAS,UAAU;AAInB,MAAM,mBAAmB,MAAM,cAAwC,IAAI;AAOpE,SAAS,kBAAkB,EAAE,OAAO,SAAS,GAA2B;AAC7E,SAAO,oBAAC,iBAAiB,UAAjB,EAA0B,OAAO,OAAQ,UAAS;AAC5D;AAYA,QAAQ,IAAI,KAAK,KAAK,GAAG;AAElB,SAAS,UAAU;AAAA,EACxB;AAAA,EACA,SAAS;AAAA,EACT,OAAO;AAAA,EACP;AAAA,EACA;AAAA,EACA,cAAc;AAAA,EACd;AACF,GAAmB;AACjB,QAAM,kBAAkB,MAAM,WAAW,gBAAgB;AACzD,QAAM,WAAW,wBAAS;AAC1B,QAAM,OAAO,qCAAW;AAExB,MAAI,CAAC,MAAM;AACT,UAAM,YAAY;AAAA,MAChB,IAAI;AAAA,MACJ,IAAI;AAAA,MACJ,IAAI;AAAA,MACJ,IAAI;AAAA,MACJ,IAAI;AAAA,MACJ,KAAK;AAAA,IACP;AAEA,WACE;AAAA,MAAC;AAAA;AAAA,QACC,MAAM,CAAC,QAAQ,IAAgB;AAAA,QAC/B,MAAM,UAAU,IAAI;AAAA,QACpB,WAAW,GAAG,QAAQ,QAAQ,KAAK,KAAK,gBAAgB,gBAAgB,SAAS;AAAA,QACjF,eAAa,YAAY,SAAY;AAAA,QACrC,cAAY;AAAA,QACZ,MAAM,YAAY,QAAQ;AAAA;AAAA,IAC5B;AAAA,EAEJ;AAQA,MAAI,MAAM,eAAiC,IAAI,GAAG;AAChD,WAAO,MAAM,aAAa,MAAM;AAAA,MAC9B,WAAW,GAAG,KAAK,MAAM,WAAW,SAAS;AAAA,MAC7C,eAAe,YAAY,SAAY;AAAA,MACvC,cAAc;AAAA,IAChB,CAAC;AAAA,EACH;AAEA,SACE,oBAAC,UAAK,WAAsB,cAAY,WACrC,gBACH;AAEJ;","names":[]}