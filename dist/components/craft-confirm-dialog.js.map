{"version":3,"sources":["../../src/components/craft-confirm-dialog.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/utils/cn\";\nimport type { ThemeName } from \"@/theme/theme-context\";\nimport { CraftModal } from \"@/components/craft-modal\";\nimport { CraftButton } from \"@/components/craft-button\";\n\nexport type CraftConfirmDialogProps = {\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  tone?: ThemeName;\n  title?: React.ReactNode;\n  description?: React.ReactNode;\n  confirmLabel?: React.ReactNode;\n  cancelLabel?: React.ReactNode;\n  onConfirm?: () => void | Promise<void>;\n  trigger?: React.ReactNode;\n  className?: string;\n  confirmVariant?: \"solid\" | \"gradient\" | \"outline\";\n};\n\nexport function CraftConfirmDialog({\n  open,\n  defaultOpen = false,\n  onOpenChange,\n  tone,\n  title = \"Confirm action\",\n  description,\n  confirmLabel = \"Confirm\",\n  cancelLabel = \"Cancel\",\n  onConfirm,\n  trigger,\n  className,\n  confirmVariant = \"solid\",\n}: CraftConfirmDialogProps) {\n  const [uncontrolledOpen, setUncontrolledOpen] = React.useState(defaultOpen);\n  const isControlled = typeof open === \"boolean\";\n  const isOpen = isControlled ? open : uncontrolledOpen;\n\n  const setOpen = React.useCallback(\n    (next: boolean) => {\n      if (!isControlled) setUncontrolledOpen(next);\n      onOpenChange?.(next);\n    },\n    [isControlled, onOpenChange]\n  );\n\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  const handleConfirm = async () => {\n    if (!onConfirm) {\n      setOpen(false);\n      return;\n    }\n    setIsLoading(true);\n    await onConfirm();\n    setIsLoading(false);\n    setOpen(false);\n  };\n\n  return (\n    <CraftModal\n      open={isOpen}\n      onOpenChange={setOpen}\n      trigger={trigger}\n      title={title}\n      description={description}\n      tone={tone}\n      className={cn(\"max-w-md\", className)}\n      footer={\n        <div className=\"flex flex-wrap items-center justify-end gap-3\">\n          <CraftButton\n            type=\"button\"\n            variant=\"ghost\"\n            onClick={() => setOpen(false)}\n          >\n            {cancelLabel}\n          </CraftButton>\n          <CraftButton\n            type=\"button\"\n            variant={confirmVariant}\n            disabled={isLoading}\n            onClick={handleConfirm}\n          >\n            {isLoading ? \"Working...\" : confirmLabel}\n          </CraftButton>\n        </div>\n      }\n    >\n      <div className=\"text-sm text-[rgb(var(--nc-fg-muted))]\">\n        {description}\n      </div>\n    </CraftModal>\n  );\n}\n"],"mappings":";AAyEQ,SACE,KADF;AAvER,YAAY,WAAW;AAEvB,SAAS,UAAU;AAEnB,SAAS,kBAAkB;AAC3B,SAAS,mBAAmB;AAiBrB,SAAS,mBAAmB;AAAA,EACjC;AAAA,EACA,cAAc;AAAA,EACd;AAAA,EACA;AAAA,EACA,QAAQ;AAAA,EACR;AAAA,EACA,eAAe;AAAA,EACf,cAAc;AAAA,EACd;AAAA,EACA;AAAA,EACA;AAAA,EACA,iBAAiB;AACnB,GAA4B;AAC1B,QAAM,CAAC,kBAAkB,mBAAmB,IAAI,MAAM,SAAS,WAAW;AAC1E,QAAM,eAAe,OAAO,SAAS;AACrC,QAAM,SAAS,eAAe,OAAO;AAErC,QAAM,UAAU,MAAM;AAAA,IACpB,CAAC,SAAkB;AACjB,UAAI,CAAC,aAAc,qBAAoB,IAAI;AAC3C,mDAAe;AAAA,IACjB;AAAA,IACA,CAAC,cAAc,YAAY;AAAA,EAC7B;AAEA,QAAM,CAAC,WAAW,YAAY,IAAI,MAAM,SAAS,KAAK;AAEtD,QAAM,gBAAgB,YAAY;AAChC,QAAI,CAAC,WAAW;AACd,cAAQ,KAAK;AACb;AAAA,IACF;AACA,iBAAa,IAAI;AACjB,UAAM,UAAU;AAChB,iBAAa,KAAK;AAClB,YAAQ,KAAK;AAAA,EACf;AAEA,SACE;AAAA,IAAC;AAAA;AAAA,MACC,MAAM;AAAA,MACN,cAAc;AAAA,MACd;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,WAAW,GAAG,YAAY,SAAS;AAAA,MACnC,QACE,qBAAC,SAAI,WAAU,iDACb;AAAA;AAAA,UAAC;AAAA;AAAA,YACC,MAAK;AAAA,YACL,SAAQ;AAAA,YACR,SAAS,MAAM,QAAQ,KAAK;AAAA,YAE3B;AAAA;AAAA,QACH;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,MAAK;AAAA,YACL,SAAS;AAAA,YACT,UAAU;AAAA,YACV,SAAS;AAAA,YAER,sBAAY,eAAe;AAAA;AAAA,QAC9B;AAAA,SACF;AAAA,MAGF,8BAAC,SAAI,WAAU,0CACZ,uBACH;AAAA;AAAA,EACF;AAEJ;","names":[]}