{"version":3,"sources":["../../src/components/craft-toast.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/utils/cn\";\nimport type { ThemeName } from \"@/theme/theme-context\";\n\nexport type CraftToastVariant = \"info\" | \"success\" | \"warning\" | \"error\";\n\nexport type CraftToast = {\n  id: string;\n  title: string;\n  description?: string;\n  variant?: CraftToastVariant;\n};\n\nconst variantClasses: Record<CraftToastVariant, string> = {\n  info: \"border-[color:rgb(var(--nc-accent-1)/0.4)]\",\n  success: \"border-emerald-400/40\",\n  warning: \"border-amber-400/40\",\n  error: \"border-rose-400/40\",\n};\n\nexport function useCraftToast() {\n  const [toasts, setToasts] = React.useState<CraftToast[]>([]);\n\n  const push = React.useCallback((toast: Omit<CraftToast, \"id\">) => {\n    const id = `${Date.now()}-${Math.random().toString(16).slice(2)}`;\n    setToasts((prev) => [...prev, { ...toast, id }]);\n    return id;\n  }, []);\n\n  const remove = React.useCallback((id: string) => {\n    setToasts((prev) => prev.filter((toast) => toast.id !== id));\n  }, []);\n\n  return { toasts, push, remove };\n}\n\nexport type CraftToastHostProps = {\n  toasts: CraftToast[];\n  onDismiss: (id: string) => void;\n  tone?: ThemeName;\n};\n\nexport function CraftToastHost({ toasts, onDismiss, tone }: CraftToastHostProps) {\n  return (\n    <div\n      className=\"fixed right-6 top-6 z-50 flex w-full max-w-sm flex-col gap-3\"\n      data-nc-theme={tone}\n    >\n      {toasts.map((toast) => (\n        <div\n          key={toast.id}\n          className={cn(\n            \"rounded-2xl border bg-[rgb(var(--nc-surface)/0.12)] p-4 text-[rgb(var(--nc-fg))] shadow-[0_15px_35px_rgba(0,0,0,0.35)] backdrop-blur-xl\",\n            variantClasses[toast.variant ?? \"info\"]\n          )}\n        >\n          <div className=\"flex items-start justify-between gap-4\">\n            <div>\n              <p className=\"text-sm font-semibold\">{toast.title}</p>\n              {toast.description && (\n                <p className=\"text-xs text-[rgb(var(--nc-fg-muted))]\">{toast.description}</p>\n              )}\n            </div>\n            <button\n              className=\"text-[rgb(var(--nc-fg-soft))] hover:text-[rgb(var(--nc-fg))]\"\n              onClick={() => onDismiss(toast.id)}\n            >\n              âœ•\n            </button>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4DY;AA1DZ,YAAuB;AAEvB,gBAAmB;AAYnB,MAAM,iBAAoD;AAAA,EACxD,MAAM;AAAA,EACN,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AACT;AAEO,SAAS,gBAAgB;AAC9B,QAAM,CAAC,QAAQ,SAAS,IAAI,MAAM,SAAuB,CAAC,CAAC;AAE3D,QAAM,OAAO,MAAM,YAAY,CAAC,UAAkC;AAChE,UAAM,KAAK,GAAG,KAAK,IAAI,CAAC,IAAI,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,MAAM,CAAC,CAAC;AAC/D,cAAU,CAAC,SAAS,CAAC,GAAG,MAAM,EAAE,GAAG,OAAO,GAAG,CAAC,CAAC;AAC/C,WAAO;AAAA,EACT,GAAG,CAAC,CAAC;AAEL,QAAM,SAAS,MAAM,YAAY,CAAC,OAAe;AAC/C,cAAU,CAAC,SAAS,KAAK,OAAO,CAAC,UAAU,MAAM,OAAO,EAAE,CAAC;AAAA,EAC7D,GAAG,CAAC,CAAC;AAEL,SAAO,EAAE,QAAQ,MAAM,OAAO;AAChC;AAQO,SAAS,eAAe,EAAE,QAAQ,WAAW,KAAK,GAAwB;AAC/E,SACE;AAAA,IAAC;AAAA;AAAA,MACC,WAAU;AAAA,MACV,iBAAe;AAAA,MAEd,iBAAO,IAAI,CAAC,UAAO;AAnD1B;AAoDQ;AAAA,UAAC;AAAA;AAAA,YAEC,eAAW;AAAA,cACT;AAAA,cACA,gBAAe,WAAM,YAAN,YAAiB,MAAM;AAAA,YACxC;AAAA,YAEA,uDAAC,SAAI,WAAU,0CACb;AAAA,2DAAC,SACC;AAAA,4DAAC,OAAE,WAAU,yBAAyB,gBAAM,OAAM;AAAA,gBACjD,MAAM,eACL,4CAAC,OAAE,WAAU,0CAA0C,gBAAM,aAAY;AAAA,iBAE7E;AAAA,cACA;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,SAAS,MAAM,UAAU,MAAM,EAAE;AAAA,kBAClC;AAAA;AAAA,cAED;AAAA,eACF;AAAA;AAAA,UAnBK,MAAM;AAAA,QAoBb;AAAA,OACD;AAAA;AAAA,EACH;AAEJ;","names":[]}